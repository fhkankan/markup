# 服务器优化

## 初始化

上传`centos_init.sh`

```
scp centos_init.sh root@xx.xx.xx:/root
```

登录执行

```
ssh root@xx.xx.xx
chmod a+x centos_init.sh
./centos_init.sh
```

python3.9安装

```shell
wget https://www.python.org/ftp/python/3.9.12/Python-3.9.12.tgz
wget https://wx.eachub.cn/share/Python-3.9.12.tgz
wget https://wx.eachub.cn/Python-3.9.12.tgz
mkdir /opt/tgz
mv Python-3.9.12.tgz /opt/tgz/
cd /opt/tgz/
tar xzvf Python-3.9.12.tgz 
cd Python-3.9.12

yum install -y unzip wget gcc gcc-c++ patch
yum install -y glib2-devel zlib-devel bzip2-devel openssl-devel readline-devel
yum install -y mysql-devel libxml2-devel pcre-devel sqlite-devel libffi-devel

mkdir /opt/tgz
cd /opt/tgz
wget https://wx.eachub.cn/Python-3.9.9.tgz
tar xzvf Python-3.9.9.tgz
cd Python-3.9.9
./configure && make && make install
exit
```

mtk

```shell
git clone git@e.coding.net:eachplus/public-service/py-micro-toolkit.git
cd  py-micro-toolkit
pip3 install --upgrade pip wheel Cython
pip3 install --upgrade -r requirements.txt
./setup.sh
```

## 用户管理

```shell
useradd opuser
passwd opuser
cd /opt
mkdir soft
mkdir www
chown -R opuser:opuser /opt/soft /opt/www

sudo u+w /etc/sudoers
vim /etc/sudoers
# 在root ALL=(ALL) ALL添加
opuser ALL=(ALL) ALL
```

