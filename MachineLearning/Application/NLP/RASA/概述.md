# 概述

[官方文档](https://rasa.com/docs/rasa/)

Rasa 是一个开源机器学习框架，用于基于文本和语音的自动化对话。理解消息、保持对话并连接到消息通道和 API。

使用rasa，可以构建在如下频道上构建语境助手

```
Facebook Messenger
Slack
Google Hangouts
Webex Teams
Microsoft Bot Framework
Rocket.Chat
Mattermost
Telegram
Twilio
Your own custom conversational channels
```

或者构建语音助手

```
Alexa Skills
Google Home Actions
```

Rasa 可帮助您构建上下文助手，能够进行多次来回的分层对话。为了让人类与上下文助手进行有意义的交流，助手需要能够使用上下文来构建之前讨论过的事物——Rasa 使您能够构建可以以可扩展方式执行此操作的助手。

## 构建助手

版本v2.8.12

### 安装

- 使用源码

```shell
git clone xxx
cd rasa
poetry install
```

## 模块介绍

- nlu

用于理解用户消息，包括意图识别和实体识别，它会把用户的输入转换为结构化的数据。

配置意图以及触发该意图的文本

`nlu.md`

```markdown
## intent:greet
- 你好
- 上午好
- 下午好
- 早上好
- 晚上好

## intent:mood_happy
- 很好
- 我很好

## intent:mood_unhappy
- 我很难受
- 我心情很差
```

`nlu.yml`

```yaml
- intent: ask_name
  examples: |
    - what is your name
    - tell me your name
    - what others call you
    - what should I call you
```

配置文件`nlu_config.yml`

```yaml
language: zh
pipeline: tensorflow_embedding
```

- core

是一个对话管理平台，用于举行对话和决定下一步做什么。

> Stories

通过story这种类型作为训练数据来训练助手的对话管理模型。 此外story还可以可用于训练能够推广到看不见的对话路径的模型。

`stories.md`

```markdown
## story_happy

* greet
    - utter_greet
* mood_happy
    - utter_happy


## story_unhappy

* greet2
    - utter_greet
* mood_unhappy
    - utter_unhappy
```

`stories.yml`

```yaml
- story: happy name path
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_name
  - action: utter_name
```

> Domain

domain定义了助手在其中运行的范围。 此外指定了机器人助手应该知道的意图，实体，位置，响应，形式和动作。 并且它还定义了对话会话的配置。

` domain.yml`

```
intents:
  - greet
  - mood_happy
  - mood_unhappy

actions:
- utter_greet
- utter_happy
- utter_unhappy

templates:
  utter_greet:
  - text: "你好，你今天过的怎么样"

  utter_happy:
  - text: "那很棒棒哦"

  utter_unhappy:
  - text: "咋了，可以告诉我吗"
```

